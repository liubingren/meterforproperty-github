<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>智慧能源管理平台-系统管理</title>
</head>
<body>
<div id="permission-manage" class="page-rout" v-cloak>
    <meter-header></meter-header>
    <layout class="ivu-layout-has-sider">
        <meter-sider></meter-sider>
        <layout class="page-wrapper">
            <breadcrumb class="page-title">
                <breadcrumb-item type="primary">权限管理</breadcrumb-item>
            </breadcrumb>
            <i-content class="page-body">
                <!--判断显示内容标题-->
                <div class="content-title" v-cloak>
                    <i class="public-icon"></i>
                    权限管理
                </div>
                <div class="content-wrapper">
                    <div class="tree-wrapper">
                        <!--树形控件-->
                        <vrg-tree @father-event="getSonData($event)"></vrg-tree>
                    </div>
                    <div class="main-content">
                        <table>
                            <thead v-cloak>
                            <tr>
                                <th>模块名称</th>
                                <th>权限名称值</th>
                                <th>权限名称</th>
                                <th>操作</th>
                                <th>
                                    <Icon type="plus" class="add-meter"
                                          title="添加权限"
                                          @click="openAddModal()"></Icon>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>666</td>
                                <td>666</td>
                                <td>666</td>
                                <td class="operation-td">
                                    <i-button type="ghost"
                                              @click="openAddModal()">
                                        编辑
                                    </i-button>
                                    <i-button type="ghost"
                                              @click="deletePer()">
                                        删除
                                    </i-button>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <Page class="page-bar"
                              :total="allRow"
                              @on-change=""
                              show-elevator show-total></Page>
                    </div>
                </div>
            </i-content>
        </layout>
    </layout>

    <!--添加/编辑弹窗-->
    <modal class="role-modal" v-model="perModal"
           :mask-closable="false" :loading="modelLoading"
           @on-ok="submitPer()">
        <p slot="header" class="modal-header"
           v-if="isAddModal">添加权限</p>
        <p slot="header" class="modal-header"
           v-else>编辑权限</p>
        <div class="input-wrapper">
            <span>*</span>模块名称:
            <i-input v-model="modelName" autofocus
                     @on-blur="noEmpty(modelName)"></i-input>
        </div>
        <div class="input-wrapper">
            <span>*</span>权限名称:
            <i-input v-model="perName"
                     @on-blur="noEmpty(perName)"></i-input>
        </div>
        <div class="input-wrapper">
            <span>*</span>权限名称值:
            <i-input v-model="perValue"></i-input>
        </div>
    </modal>
</div>

<script src="../../js/permission_manage.js"></script>
</body>
</html>